@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Define all colors in @theme so Tailwind can generate utilities */
  --color-background: var(--bg, oklch(0.144788 0.000000 0.000000));
  --color-foreground: var(--fg, oklch(1.000000 0.000000 0.000000));
  --color-card: var(--c, oklch(0.217787 0.000000 0.000000));
  --color-card-foreground: var(--cf, oklch(1.000000 0.000000 0.000000));
  --color-elevated: var(--e, oklch(0.260325 0.000000 0.000000));
  --color-popover: var(--p, oklch(0.260325 0.000000 0.000000));
  --color-popover-foreground: var(--pf, oklch(1.000000 0.000000 0.000000));
  --color-border: var(--b, oklch(0.285017 0.000000 0.000000));
  --color-input: var(--i, oklch(0.217787 0.000000 0.000000));
  --color-muted: var(--m, oklch(0.551019 0.023361 264.363742));
  --color-muted-foreground: var(--mf, oklch(0.713660 0.019176 261.324645));
  --color-primary: var(--pr, oklch(0.695873 0.149074 162.479602));
  --color-primary-foreground: var(--prf, oklch(0.000000 0.000000 0.000000));
  --color-secondary: var(--s, oklch(0.260325 0.000000 0.000000));
  --color-secondary-foreground: var(--sf, oklch(1.000000 0.000000 0.000000));
  --color-accent: var(--a, oklch(0.695873 0.149074 162.479602));
  --color-accent-foreground: var(--af, oklch(1.000000 0.000000 0.000000));
  --color-destructive: var(--d, oklch(0.636834 0.207849 25.331328));
  --color-destructive-foreground: var(--df, oklch(1.000000 0.000000 0.000000));
  --color-ring: var(--r, oklch(1.000000 0.000000 0.000000));
  --color-success: var(--su, oklch(0.695873 0.149074 162.479602));
  --color-warning: var(--w, oklch(0.768590 0.164659 70.080390));
  --color-error: var(--er, oklch(0.636834 0.207849 25.331328));
  --color-income: var(--inc, oklch(0.695873 0.149074 162.479602));
  --color-expense: var(--exp, oklch(0.710627 0.166148 22.216224));
  --color-transfer: var(--tr, oklch(0.713740 0.143381 254.624021));
  --color-chart-principal: var(--chp, oklch(0.695873 0.149074 162.479602));
  --color-chart-interest: var(--chi, oklch(0.710627 0.166148 22.216224));

  --font-sans: var(--font-sans);
  --font-mono: var(--font-mono);
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 0.875rem;
}

:root {
  color-scheme: dark;
  --radius: 0.75rem;
}

/* Dark Mode Theme (Default) */
:root,
:root[data-theme='dark-mode'] {
  --bg: oklch(0.144788 0.000000 0.000000);
  --fg: oklch(1.000000 0.000000 0.000000);
  --c: oklch(0.217787 0.000000 0.000000);
  --cf: oklch(1.000000 0.000000 0.000000);
  --e: oklch(0.260325 0.000000 0.000000);
  --p: oklch(0.260325 0.000000 0.000000);
  --pf: oklch(1.000000 0.000000 0.000000);
  --b: oklch(0.285017 0.000000 0.000000);
  --i: oklch(0.217787 0.000000 0.000000);
  --m: oklch(0.551019 0.023361 264.363742);
  --mf: oklch(0.713660 0.019176 261.324645);
  --pr: oklch(0.695873 0.149074 162.479602);
  --prf: oklch(0.000000 0.000000 0.000000);
  --s: oklch(0.260325 0.000000 0.000000);
  --sf: oklch(1.000000 0.000000 0.000000);
  --a: oklch(0.695873 0.149074 162.479602);
  --af: oklch(1.000000 0.000000 0.000000);
  --d: oklch(0.636834 0.207849 25.331328);
  --df: oklch(1.000000 0.000000 0.000000);
  --r: oklch(1.000000 0.000000 0.000000);
  --su: oklch(0.695873 0.149074 162.479602);
  --w: oklch(0.768590 0.164659 70.080390);
  --er: oklch(0.636834 0.207849 25.331328);
  --inc: oklch(0.695873 0.149074 162.479602);
  --exp: oklch(0.710627 0.166148 22.216224);
  --tr: oklch(0.713740 0.143381 254.624021);
  --chp: oklch(0.695873 0.149074 162.479602);
  --chi: oklch(0.710627 0.166148 22.216224);
}

/* Dark Pink Theme */
:root[data-theme='dark-pink'] {
  --bg: oklch(0.155506 0.018491 312.515996);
  --fg: oklch(1.000000 0.000000 0.000000);
  --c: oklch(0.199368 0.029768 309.973432);
  --cf: oklch(1.000000 0.000000 0.000000);
  --e: oklch(0.228815 0.043923 313.832051);
  --p: oklch(0.228815 0.043923 313.832051);
  --pf: oklch(1.000000 0.000000 0.000000);
  --b: oklch(0.316141 0.052839 309.805027);
  --i: oklch(0.199368 0.029768 309.973432);
  --m: oklch(0.713660 0.019176 261.324645);
  --mf: oklch(0.927582 0.005814 264.531291);
  --pr: oklch(0.655920 0.211773 354.308441);
  --prf: oklch(0.000000 0.000000 0.000000);
  --s: oklch(0.228815 0.043923 313.832051);
  --sf: oklch(1.000000 0.000000 0.000000);
  --a: oklch(0.655920 0.211773 354.308441);
  --af: oklch(1.000000 0.000000 0.000000);
  --d: oklch(0.719186 0.168984 13.427993);
  --df: oklch(1.000000 0.000000 0.000000);
  --r: oklch(1.000000 0.000000 0.000000);
  --su: oklch(0.784520 0.132529 181.911977);
  --w: oklch(0.836861 0.164422 84.428628);
  --er: oklch(0.719186 0.168984 13.427993);
  --inc: oklch(0.797116 0.133888 211.530189);
  --exp: oklch(0.725266 0.175227 349.760748);
  --tr: oklch(0.708969 0.159168 293.541199);
  --chp: oklch(0.695873 0.149074 162.479602);
  --chi: oklch(0.710627 0.166148 22.216224);
}

/* Dark Blue Theme */
:root[data-theme='dark-blue'] {
  --bg: oklch(0.144788 0.000000 0.000000);
  --fg: oklch(1.000000 0.000000 0.000000);
  --c: oklch(0.217787 0.000000 0.000000);
  --cf: oklch(1.000000 0.000000 0.000000);
  --e: oklch(0.260325 0.000000 0.000000);
  --p: oklch(0.260325 0.000000 0.000000);
  --pf: oklch(1.000000 0.000000 0.000000);
  --b: oklch(0.285017 0.000000 0.000000);
  --i: oklch(0.217787 0.000000 0.000000);
  --m: oklch(0.551019 0.023361 264.363742);
  --mf: oklch(0.713660 0.019176 261.324645);
  --pr: oklch(0.695873 0.149074 240.000000);
  --prf: oklch(0.000000 0.000000 0.000000);
  --s: oklch(0.260325 0.000000 0.000000);
  --sf: oklch(1.000000 0.000000 0.000000);
  --a: oklch(0.695873 0.149074 240.000000);
  --af: oklch(1.000000 0.000000 0.000000);
  --d: oklch(0.636834 0.207849 25.331328);
  --df: oklch(1.000000 0.000000 0.000000);
  --r: oklch(1.000000 0.000000 0.000000);
  --su: oklch(0.695873 0.149074 240.000000);
  --w: oklch(0.768590 0.164659 70.080390);
  --er: oklch(0.636834 0.207849 25.331328);
  --inc: oklch(0.695873 0.149074 162.479602);
  --exp: oklch(0.710627 0.166148 22.216224);
  --tr: oklch(0.713740 0.143381 254.624021);
  --chp: oklch(0.695873 0.149074 162.479602);
  --chi: oklch(0.710627 0.166148 22.216224);
}

/* Light Bubblegum Theme */
:root[data-theme='light-bubblegum'] {
  --bg: oklch(0.985000 0.010000 330.000000);
  --fg: oklch(0.160000 0.010000 270.000000);
  --c: oklch(0.976000 0.014000 330.000000);
  --cf: oklch(0.160000 0.010000 270.000000);
  --e: oklch(0.945000 0.022000 330.000000);
  --p: oklch(0.950000 0.018000 330.000000);
  --pf: oklch(0.160000 0.010000 270.000000);
  --b: oklch(0.780000 0.020000 270.000000);
  --i: oklch(0.950000 0.016000 330.000000);
  --m: oklch(0.950000 0.006000 270.000000);
  --mf: oklch(0.620000 0.015000 270.000000);
  --pr: oklch(0.840000 0.220000 350.000000);
  --prf: oklch(1.000000 0.000000 0.000000);
  --s: oklch(0.960000 0.022000 330.000000);
  --sf: oklch(0.160000 0.010000 270.000000);
  --a: oklch(0.840000 0.220000 350.000000);
  --af: oklch(1.000000 0.000000 0.000000);
  --d: oklch(0.800000 0.180000 25.000000);
  --df: oklch(1.000000 0.000000 0.000000);
  --r: oklch(0.160000 0.010000 270.000000);
  --su: oklch(0.630000 0.160000 180.000000);
  --w: oklch(0.720000 0.220000 85.000000);
  --er: oklch(0.800000 0.180000 25.000000);
  --inc: oklch(0.620000 0.190000 200.000000);
  --exp: oklch(0.820000 0.220000 350.000000);
  --tr: oklch(0.830000 0.180000 300.000000);
  --chp: oklch(0.695873 0.149074 162.479602);
  --chi: oklch(0.710627 0.166148 22.216224);
}

@layer base {
  * {
    border-color: var(--color-border);
    outline-color: oklch(from var(--color-ring) l c h / 0.5);
  }

  html {
    background-color: var(--color-background);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    position: relative;
  }

  /* Light theme overrides for legacy hardcoded utilities */
  :root[data-theme='light-bubblegum'] .text-white { color: var(--color-foreground) !important; }
  :root[data-theme='light-bubblegum'] .border-white { border-color: var(--color-border) !important; }
  :root[data-theme='light-bubblegum'] .bg-white { background-color: var(--color-card) !important; color: var(--color-foreground) !important; }

  /* Dialog overlay for light theme */
  :root[data-theme='light-bubblegum'] [data-slot='dialog-overlay'] {
    background-color: oklch(0.160000 0.010000 270.000000 / 0.5) !important;
  }

  /* Stronger shadows for inputs/selects in Light Bubblegum */
  :root[data-theme='light-bubblegum'] input,
  :root[data-theme='light-bubblegum'] textarea,
  :root[data-theme='light-bubblegum'] select,
  :root[data-theme='light-bubblegum'] [role='combobox'] {
    box-shadow: 0 1px 2px oklch(0.450000 0.020000 270.000000 / 0.15), 0 2px 6px oklch(0.450000 0.020000 270.000000 / 0.08);
  }

  /* Prevent horizontal scroll on all elements */
  #__next,
  [id^="__next"] {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Ensure all containers respect viewport width */
  .min-h-screen {
    overflow-x: hidden;
    max-width: 100vw;
  }

  input,
  textarea,
  select {
    background-color: var(--color-input);
    border-color: var(--color-border);
    color: var(--color-foreground);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--color-muted-foreground);
  }

  /* Responsive table wrapper */
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    max-width: 100%;
  }

  /* Prevent text from causing overflow */
  .truncate-safe {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0;
  }

  /* Ensure buttons don't cause overflow */
  button,
  a {
    max-width: 100%;
  }

  /* Make cards responsive */
  .responsive-card {
    max-width: 100%;
    overflow-x: hidden;
  }
}
