@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Define all colors in @theme so Tailwind can generate utilities */
  --color-background: var(--bg, oklch(0.144788 0.000000 0.000000));
  --color-foreground: var(--fg, oklch(1.000000 0.000000 0.000000));
  --color-card: var(--c, oklch(0.217787 0.000000 0.000000));
  --color-card-foreground: var(--cf, oklch(1.000000 0.000000 0.000000));
  --color-elevated: var(--e, oklch(0.260325 0.000000 0.000000));
  --color-popover: var(--p, oklch(0.260325 0.000000 0.000000));
  --color-popover-foreground: var(--pf, oklch(1.000000 0.000000 0.000000));
  --color-border: var(--b, oklch(0.285017 0.000000 0.000000));
  --color-input: var(--i, oklch(0.217787 0.000000 0.000000));
  --color-muted: var(--m, oklch(0.551019 0.023361 264.363742));
  --color-muted-foreground: var(--mf, oklch(0.713660 0.019176 261.324645));
  --color-primary: var(--pr, oklch(0.695873 0.149074 162.479602));
  --color-primary-foreground: var(--prf, oklch(0.000000 0.000000 0.000000));
  --color-secondary: var(--s, oklch(0.260325 0.000000 0.000000));
  --color-secondary-foreground: var(--sf, oklch(1.000000 0.000000 0.000000));
  --color-accent: var(--a, oklch(0.695873 0.149074 162.479602));
  --color-accent-foreground: var(--af, oklch(1.000000 0.000000 0.000000));
  --color-destructive: var(--d, oklch(0.636834 0.207849 25.331328));
  --color-destructive-foreground: var(--df, oklch(1.000000 0.000000 0.000000));
  --color-ring: var(--r, oklch(1.000000 0.000000 0.000000));
  --color-success: var(--su, oklch(0.695873 0.149074 162.479602));
  --color-warning: var(--w, oklch(0.768590 0.164659 70.080390));
  --color-error: var(--er, oklch(0.636834 0.207849 25.331328));
  --color-income: var(--inc, oklch(0.695873 0.149074 162.479602));
  --color-expense: var(--exp, oklch(0.710627 0.166148 22.216224));
  --color-transfer: var(--tr, oklch(0.713740 0.143381 254.624021));
  --color-chart-principal: var(--chp, oklch(0.695873 0.149074 162.479602));
  --color-chart-interest: var(--chi, oklch(0.710627 0.166148 22.216224));

  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 0.875rem;
}

:root {
  color-scheme: dark;
  --radius: 0.75rem;
}

/* Default theme variables (dark-mode). Other themes are applied at runtime via applyTheme(). */
:root {
  --bg: oklch(0.144788 0.000000 0.000000);
  --fg: oklch(1.000000 0.000000 0.000000);
  --c: oklch(0.217787 0.000000 0.000000);
  --cf: oklch(1.000000 0.000000 0.000000);
  --e: oklch(0.260325 0.000000 0.000000);
  --p: oklch(0.260325 0.000000 0.000000);
  --pf: oklch(1.000000 0.000000 0.000000);
  --b: oklch(0.285017 0.000000 0.000000);
  --i: oklch(0.217787 0.000000 0.000000);
  --m: oklch(0.551019 0.023361 264.363742);
  --mf: oklch(0.713660 0.019176 261.324645);
  --pr: oklch(0.695873 0.149074 162.479602);
  --prf: oklch(0.000000 0.000000 0.000000);
  --s: oklch(0.260325 0.000000 0.000000);
  --sf: oklch(1.000000 0.000000 0.000000);
  --a: oklch(0.695873 0.149074 162.479602);
  --af: oklch(1.000000 0.000000 0.000000);
  --d: oklch(0.636834 0.207849 25.331328);
  --df: oklch(1.000000 0.000000 0.000000);
  --r: oklch(1.000000 0.000000 0.000000);
  --su: oklch(0.695873 0.149074 162.479602);
  --w: oklch(0.768590 0.164659 70.080390);
  --er: oklch(0.636834 0.207849 25.331328);
  --inc: oklch(0.695873 0.149074 162.479602);
  --exp: oklch(0.710627 0.166148 22.216224);
  --tr: oklch(0.713740 0.143381 254.624021);
  --chp: oklch(0.695873 0.149074 162.479602);
  --chi: oklch(0.710627 0.166148 22.216224);
}

@layer base {
  * {
    border-color: var(--color-border);
    outline-color: oklch(from var(--color-ring) l c h / 0.5);
  }

  html {
    background-color: var(--color-background);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    position: relative;
    font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  }

  .font-mono,
  [class*="font-mono"] {
    font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  }

  /* Prevent horizontal scroll on all elements */
  #__next,
  [id^="__next"] {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Ensure all containers respect viewport width */
  .min-h-screen {
    overflow-x: hidden;
    max-width: 100vw;
  }

  input,
  textarea,
  select {
    background-color: var(--color-input);
    border-color: var(--color-border);
    color: var(--color-foreground);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--color-muted-foreground);
  }

  /* Responsive table wrapper */
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    max-width: 100%;
  }

  /* Prevent text from causing overflow */
  .truncate-safe {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0;
  }

  /* Ensure buttons don't cause overflow */
  button,
  a {
    max-width: 100%;
  }

  /* Make cards responsive */
  .responsive-card {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Custom scrollbar for transaction lists and other scrollable components */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: var(--color-muted);
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--color-foreground);
    opacity: 0.8;
  }

  /* Firefox scrollbar */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) var(--color-muted);
  }
}
