# Unified Ledger - Production Environment Variables
# Copy to .env.production.local and fill in with actual values
# NEVER commit this file with actual secrets!

# Application Environment
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1
PORT=3000
HOSTNAME=0.0.0.0

# Database
# For SQLite (default):
DATABASE_URL=file:/app/data/finance.db

# For PostgreSQL (optional):
# DATABASE_URL=postgresql://user:password@postgres-host:5432/finance

# Clerk Authentication (Required)
# Get from: https://dashboard.clerk.com/apps/[app-id]/api-keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx

# Clerk URLs (for custom domain)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Clerk Redirect URLs (Updated 2025-11-12)
# Note: AFTER_SIGN_IN/UP_URL deprecated in favor of FALLBACK_REDIRECT_URL
# FALLBACK preserves user's intended destination, FORCE always redirects to this URL
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/dashboard
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/dashboard

# Analytics & Monitoring (Optional)
NEXT_PUBLIC_ANALYTICS_ID=
NEXT_PUBLIC_LOG_LEVEL=info

# Application URL (Required for email verification links)
NEXT_PUBLIC_APP_URL=https://your-domain.com

# Better Auth (Required)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secure-secret-here-min-32-chars-required

# Email Configuration
# Choose email provider: "resend" (recommended) or "smtp" (self-hosting)
EMAIL_PROVIDER=resend

# Resend Configuration (Primary - Recommended)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxx
RESEND_FROM_EMAIL=noreply@your-domain.com
RESEND_FROM_NAME=Unified Ledger

# SMTP Configuration (Fallback for self-hosting)
# Use this if you prefer traditional SMTP over Resend
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@your-domain.com
SMTP_FROM_NAME=Unified Ledger

# Feature Flags
ENABLE_CRON_JOBS=true
ENABLE_NOTIFICATIONS=true
ENABLE_EMAIL_ALERTS=false

# Backup & Maintenance
BACKUP_ENABLED=true
BACKUP_INTERVAL_DAYS=1
CLEANUP_RETENTION_DAYS=90

# Security
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Custom Domain (Optional)
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET=your-secure-secret-here-min-32-chars

# CSV Import Settings (Optional)
IMPORT_MAX_FILE_SIZE=10485760
IMPORT_MAX_ROWS=10000

# Cache Settings
CACHE_DURATION_SECONDS=300
CACHE_MAX_SIZE_MB=50

# Notification Preferences
NOTIFICATION_RETENTION_DAYS=30
NOTIFICATION_BATCH_SIZE=50

# Database Optimization
QUERY_TIMEOUT_MS=30000
POOL_SIZE=5
